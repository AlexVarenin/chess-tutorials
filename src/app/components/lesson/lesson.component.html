<div class="wrapper" *ngIf="lesson$ | async as lesson">
  <div class="title-header">
    <h1 class="mat-display-1">{{ lesson.title }}</h1>
  </div>

  <div class="section">
    <mat-card>
      <p [innerHTML]="lesson.description"></p>
    </mat-card>
  </div>
  <div class="section double-section">
    <mat-card class="main">
      <chess-board
        [initialOrientation]="lesson.orientation"
        [spare]="false"
        [initialFen]="lesson.initialState"
        (onDrop)="onPieceDrop($event)"
      ></chess-board>

    </mat-card>

    <div class="aside">
      <h3 class="mat-display-1 title-moves">{{ 'LESSON.SUBTITLE_HISTORY' | translate }}</h3>
      <mat-card
        class="double-section small-section"
        *ngFor="let move of historyMoves"
        [ngClass]="{ 'falsy-move': move.isFalsy }"
      >
        <div class="sub-section">
          <img width="25" [src]="move.piece | pieceIcon">
          <span>{{ move.from }} </span>
          <mat-icon>trending_flat</mat-icon>
          <span> {{ move.to }}</span>
        </div>
      </mat-card>
    </div>

  </div>

</div>
